kube_pod_status_phase{phase=~"Failed|Unknown"}

sum by (namespace, pod) (kube_pod_status_phase{phase=~"Pending|Unknown|Failed"}) > 0


kube_pod_status_phase{namespace="namespace", phase=~"Failed|Unknown"}

kube_pod_status_phase{phase=~"Failed|Unknown"} | keep(namespace, pod)

sum(avg(kube_pod_status_phase{namespace=~"$namespace"}) by(namespace, pod, phase)) by(phase)
